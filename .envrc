# direnv 配置文件
# 自动加载 nix flake 开发环境

use flake

# 设置项目相关的环境变量
export PROJECT_ROOT=$(pwd)
export MDBOOK_OUTPUT_DIR="$PROJECT_ROOT/book"

# 开发工具配置
export RUST_BACKTRACE=1
export MDBOOK_BOOK__LANGUAGE="zh-CN"

# 如果使用 VSCode，设置工作区
if [ -n "$VSCODE_PID" ]; then
    export VSCODE_WORKSPACE="$PROJECT_ROOT/wasm-tutorial.code-workspace"
fi

echo "🎯 WebAssembly 教程开发环境已加载"
echo "💡 运行 'just' 查看可用命令"